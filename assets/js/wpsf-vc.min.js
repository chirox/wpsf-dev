!function(e){"use strict";function t(){this.set_defaults=function(){this.key=[],this.array=null,this.element=null,this.val_req=!1,this.elem_key=null},this.set_key=function(t){var n=this;""!==t&&"object"==typeof t&&e.each(t,function(e,t){n.key.push(t)})},this.render_array=function(){var t=this;return e.each(t.key,function(e,n){t.array=t.hook_array(e,n,t.array)}),t.array},this.element_array=function(){var e=this.element.attr(this.elem_key);if(void 0!==e||""!==e||!1!==e){var t=null;if(null!==(t=/\[]/g.exec(e))&&1===t.length&&"[]"===t[0])return!0}return!1},this.get_value=function(){var e=this,t=null;return t=e.element.is("input[type=checkbox]")||e.element.is("input[type=radio]")?!!e.element.is(":checked")&&e.element.val():(e.element.is("textarea"),e.element.val()),!0===this.element_array()&&!1!==t?[t]:t},this.set_value=function(e,t,n,i){var r=this.get_value();return null===e[t]&&(e[t]={}),!1!==r&&(e[t][n]=this.key.length-1===i&&!0===this.val_req?r:null),e},this.hook_array=function(t,n,i){void 0===i&&(i=this.array);var r=this;return null===i?(i={})[n]=null:"object"!=typeof i&&"array"!=typeof i||e.each(i,function(e,a){null===a?i=r.set_value(i,e,n,t):"object"!=typeof a&&"array"!=typeof a||(i[e]=r.hook_array(t,n,i[e]))}),i},this.run_regex=function(e){for(var t=/\w+(?!\[)[\w&.\-]+\w+/g,n=null,i=this;null!==(n=t.exec(e));)n.index===t.lastIndex&&t.lastIndex++,i.set_key(n);return!0},this.get=function(e,t,n,i){var r=this;r.element=t,r.val_req=n,r.elem_key=i,this.run_regex(e);var a=this.render_array();return this.set_defaults(),a},this.get_key=function(e){return this.run_regex(e),void 0!==this.key[0]?this.key[0]:null},this.array_merge=function(){var e,t=Array.prototype.slice.call(arguments),n=t.length,i={},r="",a=0,_=0,s=0,f=0,o=Object.prototype.toString,l=!0;for(s=0;s<n;s++)if("[object Array]"!==o.call(t[s])){l=!1;break}if(l){for(l=[],s=0;s<n;s++)l=l.concat(t[s]);return l}for(s=0,f=0;s<n;s++)if(e=t[s],"[object Array]"===o.call(e))for(_=0,a=e.length;_<a;_++)i[f++]=e[_];else for(r in e)e.hasOwnProperty(r)&&(parseInt(r,10)+""===r?i[f++]=e[r]:i[r]=e[r]);return i},this.array_merge_recursive=function(e,t){var n="";if(e&&"[object Array]"===Object.prototype.toString.call(e)&&t&&"[object Array]"===Object.prototype.toString.call(t))for(n in t)e.push(t[n]);else if(e&&e instanceof Object&&t&&t instanceof Object)for(n in t)n in e?"object"==typeof e[n]&&"object"==typeof t?e[n]=this.array_merge_recursive(e[n],t[n]):"array"==typeof e[n]&&"array"==typeof t?e[n]=this.array_merge(e[n],t[n]):e[n]=t[n]:e[n]=t[n];return e},this.set_defaults()}e.fn.inputToArray=function(n){var i={},r=e.extend({key:"name",value:!0},n),a=new t;return this.each(function(){var t=e(this).attr(r.key);if(void 0!==t){var n=a.get(t,e(this),r.value,r.key);i=a.array_merge_recursive(n,i)}}),i},e.fn.inputArrayKey=function(n){return void 0===n&&(n="name"),void 0!==(n=e(this).attr(n))&&(new t).get_key(n)}}(jQuery),function(e,t,n){"use strict";e.WPSF_VC_TYPES={checkbox:function(t,n){var i=n.find("input:checked"),r=new Array;"key_value_multi_array"===t&&(r={}),e.each(i,function(){if("array"===t)r.push(e(this).val());else if("key_value_multi_array"===t){var n=e(this).data("group");void 0===r[n]&&(r[n]=[]),r[n].push(e(this).val())}}),e.WPSF_VC_HELPER.save(n,r,t)},elem_to_save:function(t,n,i){var r=n.inputArrayKey("name");void 0===i&&(i="key_value_array");var a=t.find("> .wpsf-fieldset :input").inputToArray({value:!0});void 0!==a[r]&&e.WPSF_VC_HELPER.save(t,a[r],i)},is_vc_param_elem:function(e){return void 0!==e.data("param-name")&&""!==e.data("param-name")}},e.fn.WPSF_VC_LINK=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var t=e(this);e.WPSF_VC_TYPES.elem_to_save(t,t.find("> .wpsf-fieldset :input")),t.on("wpsf-links-updated",function(){e.WPSF_VC_TYPES.elem_to_save(t,t.find("> .wpsf-fieldset :input"))})}})},e.fn.WPSF_KEY_VALUE_ARRAY=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var t=e(this);e.WPSF_VC_TYPES.elem_to_save(t,t.find("> .wpsf-fieldset :input")),t.find(":input").on("change",function(){e.WPSF_VC_TYPES.elem_to_save(t,e(this))})}})},e.fn.WPSF_VC_CHECKBOX=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var t=e(this);if((t.find("input").length>1||t.find("input").length>0)&&t.find("ul").length>0){var n="array";1===t.find("ul").length?n="array":t.find("ul").length>1&&(n="key_value_multi_array"),t.find("input").on("change",function(){e.WPSF_VC_TYPES.checkbox(n,t)}),e.WPSF_VC_TYPES.checkbox(n,t)}else{var i=t.find("input").attr("value");t.find("input").attr("data-orgval",i),t.find("input").on("change",function(){e(this).is(":checked")?e(this).val(e(this).attr("data-orgval")):e(this).val("false")})}}})},e.fn.WPSF_VC_SELECT=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var t=e(this);(t.hasClass("wpsf-element-select-multiple")||t.hasClass("wpsf-element-select-multiple-chosen"))&&t.find("select").each(function(){e.WPSF_VC_HELPER.save(t,e(this).val(),"array"),e(this).on("change",function(){var n=e(this).val();e.WPSF_VC_HELPER.save(t,n,"array")})})}})},e.fn.WPSF_VC_SORTER=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var t=e(this);e.WPSF_VC_TYPES.elem_to_save(t,t.find("> .wpsf-fieldset :input"),"sorter_values"),t.on("wpsf-sorter-updated",function(){e.WPSF_VC_TYPES.elem_to_save(t,t.find("> .wpsf-fieldset :input"),"sorter_values")})}})},e.fn.WPSF_VC_FIELDSET=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var t=e(this);e.WPSF_VC_TYPES.elem_to_save(t,t.find(".wpsf-fieldset :input"),"sorter_values"),t.find("> .wpsf-fieldset :input").on("change",function(){e.WPSF_VC_TYPES.elem_to_save(t,t.find(".wpsf-fieldset :input"),"sorter_values")}),t.find("> .wpsf-fieldset :input").on("blur",function(){e.WPSF_VC_TYPES.elem_to_save(t,t.find(".wpsf-fieldset :input"),"sorter_values")})}})},e.fn.WPSF_VC_GROUP=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var t=e(this);e.WPSF_VC_TYPES.elem_to_save(t,t.find(":input"),"sorter_values"),t.find(":input").on("change",function(){console.log("h"),e.WPSF_VC_TYPES.elem_to_save(t,t.find(":input"),"sorter_values")}),t.find(":input").on("blur",function(){e.WPSF_VC_TYPES.elem_to_save(t,t.find(":input"),"sorter_values")})}})},e.WPSF_VC_HELPER={vc_popup:e(".wpb_edit_form_elements.vc_edit_form_elements"),save:function(t,n,i){if(null!==n){var r=t.data("param-name"),a="";""!==n&&("object"==typeof n&&"array"===i?a=e.WPSF_VC_HELPER.simple_array(n):"object"==typeof n&&"key_value_array"===i?a=e.WPSF_VC_HELPER.key_value_array(n):"object"==typeof n&&"key_value_multi_array"===i?a=e.WPSF_VC_HELPER.key_value_multi_array(n):"object"==typeof n&&"sorter_values"===i&&(a=e.WPSF_VC_HELPER.sorter_values(n))),e.WPSF_VC_HELPER.vc_save(r,a)}},vc_save:function(t,n){var i=e.WPSF_VC_HELPER.vc_popup;if(0===i.parent().find("div#wpsf-settings").length&&i.parent().append('<div id="wpsf-settings" class="hidden" style="display: none;visibility: hidden;" ></div>'),1===i.parent().find("div#wpsf-settings").length){var r=i.parent().find("div#wpsf-settings");return 0===r.find("> #"+t+".wpb_vc_param_value").length&&r.append(e('<input type="hidden" value="" id="'+t+'" name="'+t+'" class="wpb_vc_param_value" />')),r.find("> #"+t+".wpb_vc_param_value").val(n),!0}return!1},simple_array:function(e){return e.join(",")},key_value_array:function(t){var n=new Array;return e.each(t,function(e,t){var i=e+":"+t;n.push(i)}),n.join("|")},key_value_multi_array:function(t){var n=new Array;return e.each(t,function(e,t){"object"==typeof t&&"array"==typeof t&&(t=t.join(","));var i=e+":"+t;n.push(i)}),n.join("|")},sorter_values:function(t){return e.WPSF_VC_HELPER.encodeContent(JSON.stringify(t))},rawurlencode:function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},utf8_encode:function(e){if(null===e||void 0===e)return"";var t,n,i=e+"",r="",a=0;t=n=0,a=i.length;for(var _=0;_<a;_++){var s=i.charCodeAt(_),f=null;s<128?n++:f=s>127&&s<2048?String.fromCharCode(s>>6|192)+String.fromCharCode(63&s|128):String.fromCharCode(s>>12|224)+String.fromCharCode(s>>6&63|128)+String.fromCharCode(63&s|128),null!==f&&(n>t&&(r+=i.slice(t,n)),r+=f,t=n=_+1)}return n>t&&(r+=i.slice(t,a)),r},base64_encode:function(t){var n,i,r,a,_,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,o=0,l="",u=[];if(!t)return t;t=e.WPSF_VC_HELPER.utf8_encode(t+"");do{n=(_=t.charCodeAt(f++)<<16|t.charCodeAt(f++)<<8|t.charCodeAt(f++))>>18&63,i=_>>12&63,r=_>>6&63,a=63&_,u[o++]=s.charAt(n)+s.charAt(i)+s.charAt(r)+s.charAt(a)}while(f<t.length);l=u.join("");var c=t.length%3;return(c?l.slice(0,c-3):l)+"===".slice(c||3)},encodeContent:function(t){return e.WPSF_VC_HELPER.base64_encode(e.WPSF_VC_HELPER.rawurlencode(t))}},e.WPSF_VC={el:e(".wpsf-framework.wpsf-vc-framework"),reload:function(){var t=e.WPSF_VC.el;t.find(".wpsf-field-checkbox").WPSF_VC_CHECKBOX(),t.find(".wpsf-field-radio").WPSF_VC_CHECKBOX(),t.find(".wpsf-field-switcher").WPSF_VC_CHECKBOX(),t.find(".wpsf-field-image_select").WPSF_VC_CHECKBOX(),t.find(".wpsf-field-color_scheme").WPSF_VC_CHECKBOX(),t.find(".wpsf-field-select").WPSF_VC_SELECT(),t.find(".wpsf-field-background").WPSF_KEY_VALUE_ARRAY(),t.find(".wpsf-field-typography").WPSF_KEY_VALUE_ARRAY(),t.find(".wpsf-field-image_size").WPSF_KEY_VALUE_ARRAY(),t.find(".wpsf-field-sorter").WPSF_VC_SORTER(),t.find(".wpsf-field-fieldset").WPSF_VC_FIELDSET(),t.find(".wpsf-field-accordion").WPSF_VC_FIELDSET(),t.find(".wpsf-field-tab").WPSF_VC_FIELDSET(),t.find(".wpsf-field-social_icons").WPSF_VC_FIELDSET(),t.find(".wpsf-field-css_builder").WPSF_VC_FIELDSET(),t.find(".wpsf-field-group").WPSF_VC_GROUP(),t.find(".wpsf-field-links").WPSF_VC_LINK()},work:function(){var t=e.WPSF_VC.el;e.WPSF.icons_manager(),e.WPSF.shortcode_manager(),e.WPSF.widget_reload(),t.WPSF_DEPENDENCY(),t.WPSF_RELOAD(),t.find(".wpsf-field-group").WPSF_GROUP(),e.WPSF_VC.reload()}},e.WPSF_VC.work()}(jQuery,window,document);