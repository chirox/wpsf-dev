!function(e,n,i){"use strict";e.WPSF_VC_TYPES={checkbox:function(n,i){var t=i.find("input:checked"),_=new Array;"key_value_multi_array"===n&&(_={}),e.each(t,function(){if("array"===n)_.push(e(this).val());else if("key_value_multi_array"===n){var i=e(this).data("group");void 0===_[i]&&(_[i]=[]),_[i].push(e(this).val())}}),e.WPSF_VC_HELPER.save(i,_,n)},elem_to_save:function(n,i,t){var _=i.inputArrayKey("name");void 0===t&&(t="key_value_array");var a=n.find("> .wpsf-fieldset :input").inputToArray({value:!0});void 0!==a[_]&&e.WPSF_VC_HELPER.save(n,a[_],t)},is_vc_param_elem:function(e){return void 0!==e.data("param-name")&&""!==e.data("param-name")}},e.fn.WPSF_VC_LINK=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var n=e(this);e.WPSF_VC_TYPES.elem_to_save(n,n.find("> .wpsf-fieldset :input")),n.on("wpsf-links-updated",function(){e.WPSF_VC_TYPES.elem_to_save(n,n.find("> .wpsf-fieldset :input"))})}})},e.fn.WPSF_KEY_VALUE_ARRAY=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var n=e(this);e.WPSF_VC_TYPES.elem_to_save(n,n.find("> .wpsf-fieldset :input")),n.find(":input").on("change",function(){e.WPSF_VC_TYPES.elem_to_save(n,e(this))})}})},e.fn.WPSF_VC_CHECKBOX=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var n=e(this);if((n.find("input").length>1||n.find("input").length>0)&&n.find("ul").length>0){var i="array";1===n.find("ul").length?i="array":n.find("ul").length>1&&(i="key_value_multi_array"),n.find("input").on("change",function(){e.WPSF_VC_TYPES.checkbox(i,n)}),e.WPSF_VC_TYPES.checkbox(i,n)}else{var t=n.find("input").attr("value");n.find("input").attr("data-orgval",t),n.find("input").on("change",function(){e(this).is(":checked")?e(this).val(e(this).attr("data-orgval")):e(this).val("false")})}}})},e.fn.WPSF_VC_SELECT=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var n=e(this);(n.hasClass("wpsf-element-select-multiple")||n.hasClass("wpsf-element-select-multiple-chosen"))&&n.find("select").each(function(){e.WPSF_VC_HELPER.save(n,e(this).val(),"array"),e(this).on("change",function(){var i=e(this).val();e.WPSF_VC_HELPER.save(n,i,"array")})})}})},e.fn.WPSF_VC_SORTER=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var n=e(this);e.WPSF_VC_TYPES.elem_to_save(n,n.find("> .wpsf-fieldset :input"),"sorter_values"),n.on("wpsf-sorter-updated",function(){e.WPSF_VC_TYPES.elem_to_save(n,n.find("> .wpsf-fieldset :input"),"sorter_values")})}})},e.fn.WPSF_VC_FIELDSET=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var n=e(this);e.WPSF_VC_TYPES.elem_to_save(n,n.find(".wpsf-fieldset :input"),"sorter_values"),n.find("> .wpsf-fieldset :input").on("change",function(){e.WPSF_VC_TYPES.elem_to_save(n,n.find(".wpsf-fieldset :input"),"sorter_values")}),n.find("> .wpsf-fieldset :input").on("blur",function(){e.WPSF_VC_TYPES.elem_to_save(n,n.find(".wpsf-fieldset :input"),"sorter_values")})}})},e.fn.WPSF_VC_GROUP=function(){return this.each(function(){if(!0===e.WPSF_VC_TYPES.is_vc_param_elem(e(this))){var n=e(this);e.WPSF_VC_TYPES.elem_to_save(n,n.find(":input"),"sorter_values"),n.find(":input").on("change",function(){console.log("h"),e.WPSF_VC_TYPES.elem_to_save(n,n.find(":input"),"sorter_values")}),n.find(":input").on("blur",function(){e.WPSF_VC_TYPES.elem_to_save(n,n.find(":input"),"sorter_values")})}})},e.WPSF_VC_HELPER={vc_popup:e(".wpb_edit_form_elements.vc_edit_form_elements"),save:function(n,i,t){if(null!==i){var _=n.data("param-name"),a="";""!==i&&("object"==typeof i&&"array"===t?a=e.WPSF_VC_HELPER.simple_array(i):"object"==typeof i&&"key_value_array"===t?a=e.WPSF_VC_HELPER.key_value_array(i):"object"==typeof i&&"key_value_multi_array"===t?a=e.WPSF_VC_HELPER.key_value_multi_array(i):"object"==typeof i&&"sorter_values"===t&&(a=e.WPSF_VC_HELPER.sorter_values(i))),e.WPSF_VC_HELPER.vc_save(_,a)}},vc_save:function(n,i){var t=e.WPSF_VC_HELPER.vc_popup;if(0===t.parent().find("div#wpsf-settings").length&&t.parent().append('<div id="wpsf-settings" class="hidden" style="display: none;visibility: hidden;" ></div>'),1===t.parent().find("div#wpsf-settings").length){var _=t.parent().find("div#wpsf-settings");return 0===_.find("> #"+n+".wpb_vc_param_value").length&&_.append(e('<input type="hidden" value="" id="'+n+'" name="'+n+'" class="wpb_vc_param_value" />')),_.find("> #"+n+".wpb_vc_param_value").val(i),!0}return!1},simple_array:function(e){return e.join(",")},key_value_array:function(n){var i=new Array;return e.each(n,function(e,n){var t=e+":"+n;i.push(t)}),i.join("|")},key_value_multi_array:function(n){var i=new Array;return e.each(n,function(e,n){"object"==typeof n&&"array"==typeof n&&(n=n.join(","));var t=e+":"+n;i.push(t)}),i.join("|")},sorter_values:function(n){return e.WPSF_VC_HELPER.encodeContent(JSON.stringify(n))},rawurlencode:function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},utf8_encode:function(e){if(null===e||void 0===e)return"";var n,i,t=e+"",_="",a=0;n=i=0,a=t.length;for(var r=0;r<a;r++){var f=t.charCodeAt(r),s=null;f<128?i++:s=f>127&&f<2048?String.fromCharCode(f>>6|192)+String.fromCharCode(63&f|128):String.fromCharCode(f>>12|224)+String.fromCharCode(f>>6&63|128)+String.fromCharCode(63&f|128),null!==s&&(i>n&&(_+=t.slice(n,i)),_+=s,n=i=r+1)}return i>n&&(_+=t.slice(n,a)),_},base64_encode:function(n){var i,t,_,a,r,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,o=0,l="",u=[];if(!n)return n;n=e.WPSF_VC_HELPER.utf8_encode(n+"");do{i=(r=n.charCodeAt(s++)<<16|n.charCodeAt(s++)<<8|n.charCodeAt(s++))>>18&63,t=r>>12&63,_=r>>6&63,a=63&r,u[o++]=f.charAt(i)+f.charAt(t)+f.charAt(_)+f.charAt(a)}while(s<n.length);l=u.join("");var d=n.length%3;return(d?l.slice(0,d-3):l)+"===".slice(d||3)},encodeContent:function(n){return e.WPSF_VC_HELPER.base64_encode(e.WPSF_VC_HELPER.rawurlencode(n))}},e.WPSF_VC={el:e(".wpsf-framework.wpsf-vc-framework"),reload:function(){var n=e.WPSF_VC.el;n.find(".wpsf-field-checkbox").WPSF_VC_CHECKBOX(),n.find(".wpsf-field-radio").WPSF_VC_CHECKBOX(),n.find(".wpsf-field-switcher").WPSF_VC_CHECKBOX(),n.find(".wpsf-field-image_select").WPSF_VC_CHECKBOX(),n.find(".wpsf-field-color_scheme").WPSF_VC_CHECKBOX(),n.find(".wpsf-field-select").WPSF_VC_SELECT(),n.find(".wpsf-field-background").WPSF_KEY_VALUE_ARRAY(),n.find(".wpsf-field-typography").WPSF_KEY_VALUE_ARRAY(),n.find(".wpsf-field-image_size").WPSF_KEY_VALUE_ARRAY(),n.find(".wpsf-field-sorter").WPSF_VC_SORTER(),n.find(".wpsf-field-fieldset").WPSF_VC_FIELDSET(),n.find(".wpsf-field-accordion").WPSF_VC_FIELDSET(),n.find(".wpsf-field-tab").WPSF_VC_FIELDSET(),n.find(".wpsf-field-social_icons").WPSF_VC_FIELDSET(),n.find(".wpsf-field-css_builder").WPSF_VC_FIELDSET(),n.find(".wpsf-field-group").WPSF_VC_GROUP(),n.find(".wpsf-field-links").WPSF_VC_LINK()},work:function(){var n=e.WPSF_VC.el;e.WPSF.icons_manager(),e.WPSF.shortcode_manager(),e.WPSF.widget_reload(),n.WPSF_DEPENDENCY(),n.WPSF_RELOAD(),n.find(".wpsf-field-group").WPSF_GROUP(),e.WPSF_VC.reload()}},e.WPSF_VC.work()}(jQuery,window,document);