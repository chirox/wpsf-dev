!function(d,e,n){"use strict";d.WPSF_VC_TYPES={checkbox:function(n,e){var i=e.find("input:checked"),t=[];"key_value_multi_array"===n&&(t={}),d.each(i,function(){if("array"===n)t.push(d(this).val());else if("key_value_multi_array"===n){var e=d(this).data("group");void 0===t[e]&&(t[e]=[]),t[e].push(d(this).val())}}),d.WPSF_VC_HELPER.save(e,t,n)},elem_to_save:function(e,n,i){var t=n.inputArrayKey("name");void 0===i&&(i="key_value_array");var _=e.find("> .wpsf-fieldset :input").inputToArray({value:!0});void 0!==_[t]&&d.WPSF_VC_HELPER.save(e,_[t],i)},is_vc_param_elem:function(e){return void 0!==e.data("param-name")&&""!==e.data("param-name")}},d.fn.WPSF_VC_LINK=function(){return this.each(function(){if(!0===d.WPSF_VC_TYPES.is_vc_param_elem(d(this))){var e=d(this);d.WPSF_VC_TYPES.elem_to_save(e,e.find("> .wpsf-fieldset :input")),e.on("wpsf-links-updated",function(){d.WPSF_VC_TYPES.elem_to_save(e,e.find("> .wpsf-fieldset :input"))})}})},d.fn.WPSF_KEY_VALUE_ARRAY=function(){return this.each(function(){if(!0===d.WPSF_VC_TYPES.is_vc_param_elem(d(this))){var e=d(this);d.WPSF_VC_TYPES.elem_to_save(e,e.find("> .wpsf-fieldset :input")),e.find(":input").on("change",function(){d.WPSF_VC_TYPES.elem_to_save(e,d(this))})}})},d.fn.WPSF_VC_CHECKBOX=function(){return this.each(function(){if(!0===d.WPSF_VC_TYPES.is_vc_param_elem(d(this))){var e=d(this);if((1<e.find("input").length||0<e.find("input").length)&&0<e.find("ul").length){var n="array";1===e.find("ul").length?n="array":1<e.find("ul").length&&(n="key_value_multi_array"),e.find("input").on("change",function(){d.WPSF_VC_TYPES.checkbox(n,e)}),d.WPSF_VC_TYPES.checkbox(n,e)}else{var i=e.find("input").attr("value");e.find("input").attr("data-orgval",i),e.find("input").on("change",function(){d(this).is(":checked")?d(this).val(d(this).attr("data-orgval")):d(this).val("false")})}}})},d.fn.WPSF_VC_SELECT=function(){return this.each(function(){if(!0===d.WPSF_VC_TYPES.is_vc_param_elem(d(this))){var n=d(this);(n.hasClass("wpsf-element-select-multiple")||n.hasClass("wpsf-element-select-multiple-chosen"))&&n.find("select").each(function(){d.WPSF_VC_HELPER.save(n,d(this).val(),"array"),d(this).on("change",function(){var e=d(this).val();d.WPSF_VC_HELPER.save(n,e,"array")})})}})},d.fn.WPSF_VC_SORTER=function(){return this.each(function(){if(!0===d.WPSF_VC_TYPES.is_vc_param_elem(d(this))){var e=d(this);d.WPSF_VC_TYPES.elem_to_save(e,e.find("> .wpsf-fieldset :input"),"sorter_values"),e.on("wpsf-sorter-updated",function(){d.WPSF_VC_TYPES.elem_to_save(e,e.find("> .wpsf-fieldset :input"),"sorter_values")})}})},d.fn.WPSF_VC_FIELDSET=function(){return this.each(function(){if(!0===d.WPSF_VC_TYPES.is_vc_param_elem(d(this))){var e=d(this);d.WPSF_VC_TYPES.elem_to_save(e,e.find(".wpsf-fieldset :input"),"sorter_values"),e.find("> .wpsf-fieldset :input").on("change",function(){d.WPSF_VC_TYPES.elem_to_save(e,e.find(".wpsf-fieldset :input"),"sorter_values")}),e.find("> .wpsf-fieldset :input").on("blur",function(){d.WPSF_VC_TYPES.elem_to_save(e,e.find(".wpsf-fieldset :input"),"sorter_values")})}})},d.fn.WPSF_VC_GROUP=function(){return this.each(function(){if(!0===d.WPSF_VC_TYPES.is_vc_param_elem(d(this))){var e=d(this);d.WPSF_VC_TYPES.elem_to_save(e,e.find(":input"),"sorter_values"),e.find(":input").on("change",function(){console.log("h"),d.WPSF_VC_TYPES.elem_to_save(e,e.find(":input"),"sorter_values")}),e.find(":input").on("blur",function(){d.WPSF_VC_TYPES.elem_to_save(e,e.find(":input"),"sorter_values")})}})},d.WPSF_VC_HELPER={vc_popup:d(".wpb_edit_form_elements.vc_edit_form_elements"),save:function(e,n,i){if(null!==n){var t=e.data("param-name"),_="";""!==n&&("object"==typeof n&&"array"===i?_=d.WPSF_VC_HELPER.simple_array(n):"object"==typeof n&&"key_value_array"===i?_=d.WPSF_VC_HELPER.key_value_array(n):"object"==typeof n&&"key_value_multi_array"===i?_=d.WPSF_VC_HELPER.key_value_multi_array(n):"object"==typeof n&&"sorter_values"===i&&(_=d.WPSF_VC_HELPER.sorter_values(n))),d.WPSF_VC_HELPER.vc_save(t,_)}},vc_save:function(e,n){var i=d.WPSF_VC_HELPER.vc_popup;if(0===i.parent().find("div#wpsf-settings").length&&i.parent().append('<div id="wpsf-settings" class="hidden" style="display: none;visibility: hidden;" ></div>'),1===i.parent().find("div#wpsf-settings").length){var t=i.parent().find("div#wpsf-settings");return 0===t.find("> #"+e+".wpb_vc_param_value").length&&t.append(d('<input type="hidden" value="" id="'+e+'" name="'+e+'" class="wpb_vc_param_value" />')),t.find("> #"+e+".wpb_vc_param_value").val(n),!0}return!1},simple_array:function(e){return e.join(",")},key_value_array:function(e){var t=[];return d.each(e,function(e,n){var i=e+":"+n;t.push(i)}),t.join("|")},key_value_multi_array:function(e){var t=[];return d.each(e,function(e,n){"object"==typeof n&&"array"==typeof n&&(n=n.join(","));var i=e+":"+n;t.push(i)}),t.join("|")},sorter_values:function(e){return d.WPSF_VC_HELPER.encodeContent(JSON.stringify(e))},rawurlencode:function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},utf8_encode:function(e){if(null==e)return"";var n,i,t,_=e+"",a="";n=i=0,t=_.length;for(var r=0;r<t;r++){var f=_.charCodeAt(r),s=null;f<128?i++:s=127<f&&f<2048?String.fromCharCode(f>>6|192)+String.fromCharCode(63&f|128):String.fromCharCode(f>>12|224)+String.fromCharCode(f>>6&63|128)+String.fromCharCode(63&f|128),null!==s&&(n<i&&(a+=_.slice(n,i)),a+=s,n=i=r+1)}return n<i&&(a+=_.slice(n,t)),a},base64_encode:function(e){var n,i,t,_,a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,s=0,o="",l=[];if(!e)return e;for(e=d.WPSF_VC_HELPER.utf8_encode(e+"");n=(a=e.charCodeAt(f++)<<16|e.charCodeAt(f++)<<8|e.charCodeAt(f++))>>18&63,i=a>>12&63,t=a>>6&63,_=63&a,l[s++]=r.charAt(n)+r.charAt(i)+r.charAt(t)+r.charAt(_),f<e.length;);o=l.join("");var u=e.length%3;return(u?o.slice(0,u-3):o)+"===".slice(u||3)},encodeContent:function(e){return d.WPSF_VC_HELPER.base64_encode(d.WPSF_VC_HELPER.rawurlencode(e))}},d.WPSF_VC={el:d(".wpsf-framework.wpsf-vc-framework"),reload:function(){var e=d.WPSF_VC.el;e.find(".wpsf-field-checkbox").WPSF_VC_CHECKBOX(),e.find(".wpsf-field-radio").WPSF_VC_CHECKBOX(),e.find(".wpsf-field-switcher").WPSF_VC_CHECKBOX(),e.find(".wpsf-field-image_select").WPSF_VC_CHECKBOX(),e.find(".wpsf-field-color_scheme").WPSF_VC_CHECKBOX(),e.find(".wpsf-field-select").WPSF_VC_SELECT(),e.find(".wpsf-field-background").WPSF_KEY_VALUE_ARRAY(),e.find(".wpsf-field-typography").WPSF_KEY_VALUE_ARRAY(),e.find(".wpsf-field-image_size").WPSF_KEY_VALUE_ARRAY(),e.find(".wpsf-field-sorter").WPSF_VC_SORTER(),e.find(".wpsf-field-fieldset").WPSF_VC_FIELDSET(),e.find(".wpsf-field-accordion").WPSF_VC_FIELDSET(),e.find(".wpsf-field-tab").WPSF_VC_FIELDSET(),e.find(".wpsf-field-social_icons").WPSF_VC_FIELDSET(),e.find(".wpsf-field-css_builder").WPSF_VC_FIELDSET(),e.find(".wpsf-field-group").WPSF_VC_GROUP(),e.find(".wpsf-field-links").WPSF_VC_LINK()},work:function(){var e=d.WPSF_VC.el;d.WPSF.icons_manager(),d.WPSF.shortcode_manager(),d.WPSF.widget_reload(),e.WPSF_DEPENDENCY(),e.WPSF_RELOAD(),e.find(".wpsf-field-group").WPSF_GROUP(),d.WPSF_VC.reload()}},d.WPSF_VC.work()}(jQuery,window,document);